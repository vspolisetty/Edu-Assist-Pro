<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Edu Assist Pro - Dashboard</title>
    <link rel="stylesheet" href="dashboard.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
</head>
<body>
    <!-- Top Navigation -->
    <nav class="top-nav">
        <div class="nav-left">
            <a href="dashboard.html" class="nav-logo">
                <span class="material-icons">school</span>
                <span class="logo-text">Edu Assist Pro</span>
            </a>
        </div>
        <div class="nav-center">
            <a href="courses.html" class="nav-link">
                <span class="material-icons">menu_book</span> Courses
            </a>
            <a href="dashboard.html" class="nav-link active">
                <span class="material-icons">dashboard</span> Dashboard
            </a>
            <a href="index.html" class="nav-link">
                <span class="material-icons">chat</span> AI Assistant
            </a>
            <a href="admin.html" class="nav-link admin-nav-link" style="display:none">
                <span class="material-icons">admin_panel_settings</span> Admin
            </a>
        </div>
        <div class="nav-right">
            <button class="theme-toggle" id="themeToggle" title="Toggle Dark Mode">
                <span class="material-icons">dark_mode</span>
            </button>
            <div class="user-menu-wrapper">
                <button class="user-menu" id="userMenuBtn" aria-label="User profile">
                    <span class="material-icons">account_circle</span>
                    <span class="user-name" id="userName">User</span>
                    <span class="material-icons dropdown-arrow">expand_more</span>
                </button>
                <div class="user-dropdown" id="userDropdown">
                    <a href="dashboard.html" class="dropdown-item">
                        <span class="material-icons">dashboard</span>
                        <span>Dashboard</span>
                    </a>
                    <a href="#" class="dropdown-item" id="settingsBtn">
                        <span class="material-icons">settings</span>
                        <span>Settings</span>
                    </a>
                    <div class="dropdown-divider"></div>
                    <a href="#" class="dropdown-item logout-item" id="logoutBtn">
                        <span class="material-icons">logout</span>
                        <span>Logout</span>
                    </a>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="main-content">

        <!-- Welcome Banner -->
        <section class="welcome-banner">
            <div class="welcome-text">
                <h1>Welcome back, <span id="welcomeName">User</span></h1>
                <p>Track your training progress, quiz results, and certifications.</p>
            </div>
            <div class="welcome-actions">
                <a href="courses.html" class="btn-primary"><span class="material-icons">menu_book</span> Browse Courses</a>
                <a href="index.html" class="btn-secondary"><span class="material-icons">chat</span> AI Assistant</a>
            </div>
        </section>

        <!-- Stats Row -->
        <section class="stats-row">
            <div class="stat-card">
                <div class="stat-icon-wrap si-primary"><span class="material-icons">menu_book</span></div>
                <div class="stat-info">
                    <span class="stat-number" id="statCourses">0</span>
                    <span class="stat-label">Enrolled Courses</span>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-icon-wrap si-secondary"><span class="material-icons">quiz</span></div>
                <div class="stat-info">
                    <span class="stat-number" id="statQuizzes">0</span>
                    <span class="stat-label">Quizzes Taken</span>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-icon-wrap si-success"><span class="material-icons">workspace_premium</span></div>
                <div class="stat-info">
                    <span class="stat-number" id="statCerts">0</span>
                    <span class="stat-label">Certificates</span>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-icon-wrap si-warning"><span class="material-icons">trending_up</span></div>
                <div class="stat-info">
                    <span class="stat-number" id="statAvgScore">—</span>
                    <span class="stat-label">Avg. Score</span>
                </div>
            </div>
        </section>

        <!-- Two-Column Grid -->
        <div class="dashboard-grid">

            <!-- My Courses -->
            <section class="card">
                <div class="card-header">
                    <h3><span class="material-icons">school</span> My Courses</h3>
                    <a href="courses.html" class="card-action">View All</a>
                </div>
                <div class="card-body" id="myCoursesList">
                    <div class="empty-state">
                        <span class="material-icons">menu_book</span>
                        <p>No courses enrolled yet</p>
                        <a href="courses.html" class="btn-sm">Browse Courses</a>
                    </div>
                </div>
            </section>

            <!-- Quiz Results -->
            <section class="card">
                <div class="card-header">
                    <h3><span class="material-icons">fact_check</span> Recent Quiz Results</h3>
                </div>
                <div class="card-body" id="quizResultsList">
                    <div class="empty-state">
                        <span class="material-icons">quiz</span>
                        <p>No quizzes taken yet</p>
                        <p class="empty-hint">Enroll in a course and take an assessment</p>
                    </div>
                </div>
            </section>

            <!-- Certificates -->
            <section class="card card-full">
                <div class="card-header">
                    <h3><span class="material-icons">workspace_premium</span> My Certificates</h3>
                </div>
                <div class="card-body" id="certsList">
                    <div class="empty-state">
                        <span class="material-icons">emoji_events</span>
                        <p>No certificates earned yet</p>
                        <p class="empty-hint">Pass a course assessment to earn a certificate</p>
                    </div>
                </div>
            </section>

        </div>
    </main>

    <!-- Certificate Modal -->
    <div class="modal-overlay hidden" id="certModal">
        <div class="cert-card">
            <button class="modal-close" id="closeCertModal"><span class="material-icons">close</span></button>
            <div class="cert-header">
                <span class="material-icons cert-seal">workspace_premium</span>
                <h2>Certificate of Completion</h2>
                <div class="cert-divider"></div>
            </div>
            <div class="cert-body">
                <p class="cert-label">This certifies that</p>
                <h1 class="cert-name" id="certUserName">User</h1>
                <p class="cert-label">has successfully completed</p>
                <h2 class="cert-course" id="certCourseName">Course</h2>
                <div class="cert-meta">
                    <span><span class="material-icons">grade</span> Score: <strong id="certScore">0%</strong></span>
                    <span><span class="material-icons">calendar_today</span> Date: <strong id="certDate">—</strong></span>
                </div>
            </div>
            <div class="cert-footer">
                <p>Edu Assist Pro — Corporate Training Platform</p>
                <p class="cert-id" id="certIdText">Certificate ID: —</p>
            </div>
        </div>
    </div>

    <script src="auth-helper.js?v=2"></script>
    <script src="user-menu.js"></script>
    <script src="dashboard.js"></script>
</body>
</html>