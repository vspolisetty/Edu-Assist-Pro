<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Edu Assist Pro - Training Portal</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body class="light-theme">
    <!-- Top Navigation Bar -->
    <header class="top-nav">
        <div class="nav-left">
            <a href="dashboard.html" class="nav-brand">
                <span class="material-icons">school</span>
                <span class="brand-text">Edu Assist Pro</span>
            </a>
        </div>
        
        <div class="nav-center">
            <a href="courses.html" class="nav-link">
                <span class="material-icons">menu_book</span>
                <span class="nav-link-text">Courses</span>
            </a>
            <a href="dashboard.html" class="nav-link">
                <span class="material-icons">dashboard</span>
                <span class="nav-link-text">Dashboard</span>
            </a>
            <a href="index.html" class="nav-link active">
                <span class="material-icons">chat</span>
                <span class="nav-link-text">AI Assistant</span>
            </a>
            <a href="admin.html" class="nav-link admin-nav-link" style="display:none">
                <span class="material-icons">admin_panel_settings</span>
                <span class="nav-link-text">Admin</span>
            </a>
        </div>
        
        <div class="nav-right">
            <button class="nav-button theme-toggle" id="theme-toggle" aria-label="Toggle theme">
                <span class="material-icons">light_mode</span>
            </button>
            
            <div class="user-menu-wrapper">
                <button class="user-menu" id="userMenuBtn" aria-label="User profile">
                    <span class="material-icons">account_circle</span>
                    <span class="user-name" id="userName">User</span>
                    <span class="material-icons dropdown-arrow">expand_more</span>
                </button>
                <div class="user-dropdown" id="userDropdown">
                    <a href="dashboard.html" class="dropdown-item">
                        <span class="material-icons">dashboard</span>
                        <span>Dashboard</span>
                    </a>
                    <a href="#" class="dropdown-item" id="settingsBtn">
                        <span class="material-icons">settings</span>
                        <span>Settings</span>
                    </a>
                    <div class="dropdown-divider"></div>
                    <a href="#" class="dropdown-item logout-item" id="logoutBtn">
                        <span class="material-icons">logout</span>
                        <span>Logout</span>
                    </a>
                </div>
            </div>
        </div>
    </header>

    <div class="app-container">
        <!-- Left Sidebar -->
        <aside class="left-sidebar">
            <div class="sidebar-header">
                <h3>Training Modules</h3>
            </div>
            <div class="subjects-list" id="subjects-list">
                <!-- Subjects will be populated by JavaScript -->
            </div>
        </aside>

        <!-- Main Chat Area -->
        <main class="chat-main">
            <div class="chat-messages" id="chat-messages">
                <div class="welcome-message">
                    <div class="welcome-content">
                        <h2>Welcome to Edu Assist Pro</h2>
                        <p>Your AI-powered training assistant. Ask questions about any training module or upload documents for context-aware learning.</p>
                    </div>
                </div>
                
                <!-- Sample messages -->
                <div class="message ai-message">
                    <div class="message-avatar">
                        <span class="material-icons">smart_toy</span>
                    </div>
                    <div class="message-content">
                        <div class="message-bubble">
                            <p>Hello! I'm your AI training assistant. I can help you with your current training module. What would you like to learn about today?</p>
                        </div>
                        <div class="message-actions">
                            <button class="action-btn" title="Copy message">
                                <span class="material-icons">content_copy</span>
                            </button>
                            <button class="action-btn" title="Save message">
                                <span class="material-icons">bookmark</span>
                            </button>
                            <button class="action-btn" title="Like message">
                                <span class="material-icons">thumb_up</span>
                            </button>
                        </div>
                    </div>
                </div>
                
                <div class="message student-message">
                    <div class="message-content">
                        <div class="message-bubble">
                            <p>Can you explain the compliance framework?</p>
                        </div>
                        <div class="message-time">2:34 PM</div>
                    </div>
                </div>
                
                <div class="message ai-message">
                    <div class="message-avatar">
                        <span class="material-icons">smart_toy</span>
                    </div>
                    <div class="message-content">
                        <div class="message-bubble">
                            <p>Of course! The compliance framework is a structured set of guidelines and best practices that ensure organizational alignment with regulatory requirements. The key components include:</p>
                            <div class="formula-block">
                                <code>Policy → Procedure → Control → Monitoring → Reporting</code>
                            </div>
                            <p>Each component works together to maintain <strong>regulatory compliance</strong> and <strong>risk management</strong>.</p>
                            <p>Would you like me to dive deeper into any of these components?</p>
                        </div>
                        <div class="message-actions">
                            <button class="action-btn" title="Copy message">
                                <span class="material-icons">content_copy</span>
                            </button>
                            <button class="action-btn" title="Save message">
                                <span class="material-icons">bookmark</span>
                            </button>
                            <button class="action-btn" title="Like message">
                                <span class="material-icons">thumb_up</span>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Input Area -->
            <div class="input-area">
                <div class="input-controls">
                    <button class="input-btn mic-btn" id="mic-btn" aria-label="Voice input">
                        <span class="material-icons">mic</span>
                    </button>
                    
                    <button class="input-btn attach-btn" aria-label="Attach file">
                        <span class="material-icons">attach_file</span>
                    </button>
                    
                    <div class="eli5-toggle">
                        <label class="toggle-label">
                            <input type="checkbox" id="eli5-toggle">
                            <span class="toggle-slider"></span>
                            <span class="toggle-text">Simplified Mode</span>
                        </label>
                    </div>
                    
                    <div class="message-input-container">
                        <input type="text" class="message-input" id="message-input" placeholder="Ask me anything...">
                        <button class="send-btn" id="send-btn" aria-label="Send message">
                            <span class="material-icons">send</span>
                        </button>
                    </div>
                </div>
            </div>
        </main>

        <!-- Right Sidebar -->
        <aside class="right-sidebar">
            <div class="sidebar-tabs">
                <button class="tab-btn active" data-tab="topics">Modules</button>
                <button class="tab-btn" data-tab="questions">Suggested</button>
                <button class="tab-btn" data-tab="bookmarks">Saved</button>
            </div>
            
            <div class="tab-content">
                <div class="tab-panel active" id="topics-panel">
                    <h3>Related Modules</h3>
                    <div class="topics-content">
                        <div class="topic-list">
                            <!-- Topics will be dynamically loaded here -->
                        </div>
                    </div>
                </div>
                
                <div class="tab-panel" id="questions-panel">
                    <h3>Suggested Questions</h3>
                    <div class="suggested-questions">
                        <button class="question-btn">What are the key compliance requirements?</button>
                        <button class="question-btn">How do I complete this training module?</button>
                        <button class="question-btn">Explain the assessment criteria</button>
                        <button class="question-btn">What are the prerequisites for this course?</button>
                        <button class="question-btn">Show me a summary of this module</button>
                    </div>
                </div>
                
                <div class="tab-panel" id="bookmarks-panel">
                    <h3>Saved Resources</h3>
                    <div class="bookmarks-list">
                        <div class="bookmark-item">
                            <p><strong>Q:</strong> What are the key compliance requirements?</p>
                            <p><strong>A:</strong> The compliance framework follows Policy → Procedure → Control → Monitoring → Reporting</p>
                            <span class="bookmark-date">Yesterday</span>
                        </div>
                    </div>
                </div>
            </div>
        </aside>
    </div>

    <script src="auth-helper.js?v=2"></script>
    <script src="user-menu.js"></script>
    <script src="script.js"></script>
    <script src="dashboard.js"></script>
    <script src="rag-integration.js"></script>
</html>