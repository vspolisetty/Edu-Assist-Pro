<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Edu Assist Pro - AI Training Assistant</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body class="light-theme">
    <!-- Top Navigation Bar -->
    <header class="top-nav">
        <div class="nav-left">
            <a href="dashboard.html" class="nav-brand">
                <span class="material-icons">school</span>
                <span class="brand-text">Edu Assist Pro</span>
            </a>
        </div>
        <div class="nav-center">
            <a href="courses.html" class="nav-link">
                <span class="material-icons">menu_book</span>
                <span class="nav-link-text">Courses</span>
            </a>
            <a href="dashboard.html" class="nav-link">
                <span class="material-icons">dashboard</span>
                <span class="nav-link-text">Dashboard</span>
            </a>
            <a href="index.html" class="nav-link active">
                <span class="material-icons">chat</span>
                <span class="nav-link-text">AI Assistant</span>
            </a>
            <a href="admin.html" class="nav-link admin-nav-link" style="display:none">
                <span class="material-icons">admin_panel_settings</span>
                <span class="nav-link-text">Admin</span>
            </a>
        </div>
        <div class="nav-right">
            <button class="nav-button theme-toggle" id="theme-toggle" aria-label="Toggle theme">
                <span class="material-icons">light_mode</span>
            </button>
            <div class="user-menu-wrapper">
                <button class="user-menu" id="userMenuBtn" aria-label="User profile">
                    <span class="material-icons">account_circle</span>
                    <span class="user-name" id="userName">User</span>
                    <span class="material-icons dropdown-arrow">expand_more</span>
                </button>
                <div class="user-dropdown" id="userDropdown">
                    <a href="dashboard.html" class="dropdown-item">
                        <span class="material-icons">dashboard</span>
                        <span>Dashboard</span>
                    </a>
                    <a href="#" class="dropdown-item" id="settingsBtn">
                        <span class="material-icons">settings</span>
                        <span>Settings</span>
                    </a>
                    <div class="dropdown-divider"></div>
                    <a href="#" class="dropdown-item logout-item" id="logoutBtn">
                        <span class="material-icons">logout</span>
                        <span>Logout</span>
                    </a>
                </div>
            </div>
        </div>
    </header>

    <div class="app-container">
        <!-- Left Sidebar -->
        <aside class="left-sidebar">
            <div class="sidebar-header">
                <h3>Training Modules</h3>
            </div>
            <div class="subjects-list" id="subjects-list">
                <!-- Populated by JS -->
            </div>
        </aside>

        <!-- Main Chat Area -->
        <main class="chat-main">
            <!-- Context Bar (shown when a topic is active) -->
            <div class="chat-context-bar" id="chat-context-bar" style="display:none;">
                <div class="context-info">
                    <span class="material-icons">topic</span>
                    <span id="context-subject">Module</span>
                    <span class="context-sep">›</span>
                    <span id="context-topic">Topic</span>
                </div>
                <button class="context-clear" id="clear-context-btn" title="Back to home">
                    <span class="material-icons">close</span>
                </button>
            </div>

            <div class="chat-messages" id="chat-messages">
                <!-- Welcome Screen -->
                <div id="welcome-screen" class="welcome-screen">
                    <div class="welcome-hero">
                        <div class="welcome-icon-ring">
                            <span class="material-icons">psychology</span>
                        </div>
                        <h2>Welcome to Edu Assist Pro</h2>
                        <p>Your AI-powered corporate training assistant. Select a module below or type a question to get started.</p>
                    </div>

                    <h3 class="section-label"><span class="material-icons">explore</span> Explore Training Modules</h3>
                    <div class="topic-cards-grid" id="topic-cards-grid"></div>

                    <h3 class="section-label"><span class="material-icons">bolt</span> Quick Start</h3>
                    <div class="quick-actions-grid">
                        <button class="quick-action-btn" data-question="What compliance training do I need to complete?">
                            <span class="material-icons">fact_check</span>
                            <span>Required Training</span>
                        </button>
                        <button class="quick-action-btn" data-question="What are the top cybersecurity threats I should know about?">
                            <span class="material-icons">security</span>
                            <span>Security Essentials</span>
                        </button>
                        <button class="quick-action-btn" data-question="How can I improve my leadership skills?">
                            <span class="material-icons">groups</span>
                            <span>Leadership Tips</span>
                        </button>
                        <button class="quick-action-btn" data-question="Explain our company's data privacy policy and GDPR compliance">
                            <span class="material-icons">privacy_tip</span>
                            <span>Data Privacy Guide</span>
                        </button>
                    </div>
                </div>
                <!-- Chat messages will be appended here by JS -->
            </div>

            <!-- Input Area -->
            <div class="input-area">
                <div class="input-controls">
                    <button class="input-btn" id="mic-btn" aria-label="Voice input">
                        <span class="material-icons">mic</span>
                    </button>
                    <button class="input-btn attach-btn" aria-label="Attach file">
                        <span class="material-icons">attach_file</span>
                    </button>
                    <div class="eli5-toggle">
                        <label class="toggle-label">
                            <input type="checkbox" id="eli5-toggle">
                            <span class="toggle-slider"></span>
                            <span class="toggle-text">Simple</span>
                        </label>
                    </div>
                    <div class="message-input-container">
                        <input type="text" class="message-input" id="message-input" placeholder="Ask me anything about your training…">
                        <button class="send-btn" id="send-btn" aria-label="Send message">
                            <span class="material-icons">send</span>
                        </button>
                    </div>
                </div>
            </div>
        </main>

        <!-- Right Sidebar -->
        <aside class="right-sidebar">
            <div class="sidebar-tabs">
                <button class="tab-btn active" data-tab="topics">Modules</button>
                <button class="tab-btn" data-tab="questions">Suggested</button>
                <button class="tab-btn" data-tab="bookmarks">Saved</button>
            </div>
            <div class="tab-content">
                <div class="tab-panel active" id="topics-panel">
                    <h3>Related Subtopics</h3>
                    <div class="topic-list" id="topic-list"></div>
                </div>
                <div class="tab-panel" id="questions-panel">
                    <h3>Suggested Questions</h3>
                    <div class="suggested-questions" id="suggested-questions"></div>
                </div>
                <div class="tab-panel" id="bookmarks-panel">
                    <h3>Saved Resources</h3>
                    <div class="bookmarks-list" id="bookmarks-list"></div>
                </div>
            </div>
        </aside>
    </div>

    <script src="auth-helper.js?v=2"></script>
    <script src="user-menu.js"></script>
    <script src="script.js"></script>
    <script src="dashboard.js"></script>
    <script src="rag-integration.js"></script>
</body>
</html>
